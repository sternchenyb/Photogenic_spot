<div class="container">
  <div class="row">
    <div class="col-12">
      <div id="map"></div>
      <script>
        let map;

        function initMap() {
          // geocoderを初期化
          geocoder = new google.maps.Geocoder()

          map = new google.maps.Map(document.getElementById('map'), {
            // コントローラーで定義した変数から緯度経度を呼び出し、マップの中心に表示
            center: {
              lat: 0,
              lng: 0
            },
            // マップの倍率はお好みで
            zoom: 2,
          });

          gon.spots.forEach((spot) => {
            new google.maps.Marker({
              // コントローラーで定義した変数から緯度経度を呼び出し、マーカーを立てる
              position: {
                lat: spot.latitude,
                lng: spot.longitude
              },
              map: map
            });
          })
        }
      </script>
      <script async defer
            src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=<%= ENV['GMAP_API'] %>&callback=initMap">
      </script>
    </div>
  </div>
</div>